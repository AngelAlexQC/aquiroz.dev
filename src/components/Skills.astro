---
import { FiCode } from 'react-icons/fi';
import { HiOutlineServer } from 'react-icons/hi';
import { RiComputerLine } from 'react-icons/ri';
import { AiOutlineCloud } from 'react-icons/ai';

export interface Props {
  lang: 'es' | 'en';
}

const { lang } = Astro.props;

const skillCategories = [
  {
    title: lang === 'es' ? 'Desarrollo & Arquitectura' : 'Development & Architecture',
    Icon: FiCode,
    skills: [
      {
        name: lang === 'es' ? 'Desarrollo Full Stack' : 'Full Stack Development',
        icon: `<img src="https://cdn.jsdelivr.net/npm/@tabler/icons@2.40.0/icons/layers-intersect.svg" alt="Full Stack" class="w-6 h-6" />`
      },
      {
        name: lang === 'es' ? 'Arquitectura de Software' : 'Software Architecture',
        icon: `<img src="https://cdn.jsdelivr.net/npm/@tabler/icons@2.40.0/icons/sitemap.svg" alt="Architecture" class="w-6 h-6" />`
      },
      {
        name: lang === 'es' ? 'Liderazgo Técnico' : 'Technical Leadership',
        icon: `<img src="https://cdn.jsdelivr.net/npm/@tabler/icons@2.40.0/icons/chart-treemap.svg" alt="Leadership" class="w-6 h-6" />`
      }
    ]
  },
  {
    title: 'Backend',
    Icon: HiOutlineServer,
    skills: [
      {
        name: 'PHP (Laravel, Yii2)',
        icon: 'https://skillicons.dev/icons?i=php'
      },
      {
        name: 'Node.js & TypeScript',
        icon: 'https://skillicons.dev/icons?i=nodejs'
      },
      {
        name: 'NestJS Framework',
        icon: 'https://skillicons.dev/icons?i=nestjs'
      }
    ]
  },
  {
    title: 'Frontend',
    Icon: RiComputerLine,
    skills: [
      {
        name: 'React & Next.js',
        icon: 'https://skillicons.dev/icons?i=react'
      },
      {
        name: 'Angular Framework',
        icon: 'https://skillicons.dev/icons?i=angular'
      },
      {
        name: 'Vue.js Ecosystem',
        icon: 'https://skillicons.dev/icons?i=vue'
      }
    ]
  },
  {
    title: 'DevOps & Cloud',
    Icon: AiOutlineCloud,
    skills: [
      {
        name: 'Docker & Containers',
        icon: 'https://skillicons.dev/icons?i=docker'
      },
      {
        name: 'AWS Cloud Services',
        icon: 'https://skillicons.dev/icons?i=aws'
      },
      {
        name: 'CI/CD Pipelines',
        icon: 'https://skillicons.dev/icons?i=githubactions'
      }
    ]
  }
];
---

<section id="skills" class="py-24 bg-white relative overflow-hidden">
  <!-- Background decoration -->
  <div class="absolute top-20 right-0 w-72 h-72 bg-gradient-to-l from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"></div>
  
  <div class="max-w-7xl mx-auto px-4 relative">
    <div class="text-center mb-16">
      <span class="text-blue-600 font-semibold text-sm uppercase tracking-wider">
        {lang === 'es' ? 'Tecnologías y herramientas' : 'Technologies & tools'}
      </span>
      <h2 class="text-5xl font-bold mt-4 mb-6">
        <span class="text-gray-900">{lang === 'es' ? 'Aptitudes' : 'Technical'}</span>
        <span class="gradient-text"> {lang === 'es' ? 'Técnicas' : 'Skills'}</span>
      </h2>
    </div>
    
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      {skillCategories.map((category) => (
        <div class="group bg-gradient-to-br from-white to-gray-50 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 hover:border-blue-200 h-80 flex flex-col">
          <!-- Category Icon -->
          <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg mx-auto">
            <category.Icon size={32} />
          </div>
          
          <h3 class="text-lg font-bold text-gray-900 mb-6 group-hover:text-blue-600 transition-colors text-center leading-tight min-h-[3rem] flex items-center justify-center">
            {category.title}
          </h3>
          
          <ul class="space-y-3 flex-1">
            {category.skills.map((skill) => (
              <li class="flex items-center text-gray-700 group-hover:text-gray-900 transition-colors">
                <div class="flex items-center justify-center mr-3 group-hover:scale-105 transition-all duration-300 flex-shrink-0">
                  {skill.icon.startsWith('https://') ? (
                    <img src={skill.icon} alt={skill.name} class="w-5 h-5 object-contain" loading="lazy" />
                  ) : (
                    <Fragment set:html={skill.icon} />
                  )}
                </div>
                <span class="font-medium text-sm leading-tight">{skill.name}</span>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </div>
</section>