---
export interface Props {
  lang: 'es' | 'en';
}

const { lang } = Astro.props;

const skillCategories = [
  {
    title: lang === 'es' ? 'Desarrollo & Arquitectura' : 'Development & Architecture',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="16,18 22,12 16,6"/>
      <polyline points="8,6 2,12 8,18"/>
    </svg>`,
    skills: [
      {
        name: lang === 'es' ? 'Desarrollo Full Stack' : 'Full Stack Development',
        icon: `<img src="https://cdn.jsdelivr.net/npm/@tabler/icons@2.40.0/icons/layers-intersect.svg" alt="Full Stack" class="w-6 h-6" />`
      },
      {
        name: lang === 'es' ? 'Arquitectura de Software' : 'Software Architecture',
        icon: `<img src="https://cdn.jsdelivr.net/npm/@tabler/icons@2.40.0/icons/sitemap.svg" alt="Architecture" class="w-6 h-6" />`
      },
      {
        name: lang === 'es' ? 'Liderazgo Técnico' : 'Technical Leadership',
        icon: `<img src="https://cdn.jsdelivr.net/npm/@tabler/icons@2.40.0/icons/chart-treemap.svg" alt="Leadership" class="w-6 h-6" />`
      }
    ]
  },
  {
    title: 'Backend',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect width="20" height="8" x="2" y="2" rx="2" ry="2"/>
      <rect width="20" height="8" x="2" y="14" rx="2" ry="2"/>
      <line x1="6" x2="6.01" y1="6" y2="6"/>
      <line x1="6" x2="6.01" y1="18" y2="18"/>
    </svg>`,
    skills: [
      {
        name: 'PHP (Yii2, Laravel)',
        icon: 'https://skillicons.dev/icons?i=php'
      },
      {
        name: 'TypeScript (NestJS)',
        icon: 'https://skillicons.dev/icons?i=typescript'
      },
      {
        name: 'Node.js',
        icon: 'https://skillicons.dev/icons?i=nodejs'
      }
    ]
  },
  {
    title: 'Frontend',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect width="18" height="12" x="3" y="4" rx="2" ry="2"/>
      <line x1="2" x2="22" y1="20" y2="20"/>
      <line x1="12" x2="12" y1="16" y2="20"/>
    </svg>`,
    skills: [
      {
        name: 'React',
        icon: 'https://skillicons.dev/icons?i=react'
      },
      {
        name: 'Next.js',
        icon: 'https://skillicons.dev/icons?i=nextjs'
      },
      {
        name: 'Angular',
        icon: 'https://skillicons.dev/icons?i=angular'
      },
      {
        name: 'Vue.js',
        icon: 'https://skillicons.dev/icons?i=vue'
      }
    ]
  },
  {
    title: 'DevOps & Cloud',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/>
    </svg>`,
    skills: [
      {
        name: 'Docker',
        icon: 'https://skillicons.dev/icons?i=docker'
      },
      {
        name: 'AWS',
        icon: 'https://skillicons.dev/icons?i=aws'
      },
      {
        name: 'CI/CD',
        icon: 'https://skillicons.dev/icons?i=githubactions'
      },
      {
        name: 'GitHub Actions',
        icon: 'https://skillicons.dev/icons?i=github'
      }
    ]
  }
];
---

<section id="skills" class="py-24 bg-white relative overflow-hidden">
  <!-- Background decoration -->
  <div class="absolute top-20 right-0 w-72 h-72 bg-gradient-to-l from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"></div>
  
  <div class="max-w-7xl mx-auto px-4 relative">
    <div class="text-center mb-16">
      <span class="text-blue-600 font-semibold text-sm uppercase tracking-wider">
        {lang === 'es' ? 'Tecnologías y herramientas' : 'Technologies & tools'}
      </span>
      <h2 class="text-5xl font-bold mt-4 mb-6">
        <span class="text-gray-900">{lang === 'es' ? 'Aptitudes' : 'Technical'}</span>
        <span class="gradient-text"> {lang === 'es' ? 'Técnicas' : 'Skills'}</span>
      </h2>
    </div>
    
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
      {skillCategories.map((category) => (
        <div class="group bg-gradient-to-br from-white to-gray-50 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 hover:border-blue-200 h-80 flex flex-col">
          <!-- Category Icon -->
          <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg mx-auto">
            <Fragment set:html={category.icon} />
          </div>
          
          <h3 class="text-lg font-bold text-gray-900 mb-6 group-hover:text-blue-600 transition-colors text-center leading-tight min-h-[3rem] flex items-center justify-center">
            {category.title}
          </h3>
          
          <ul class="space-y-3 flex-1">
            {category.skills.map((skill) => (
              <li class="flex items-center text-gray-700 group-hover:text-gray-900 transition-colors">
                <div class="flex items-center justify-center mr-3 group-hover:scale-105 transition-all duration-300 flex-shrink-0">
                  {skill.icon.startsWith('https://') ? (
                    <img src={skill.icon} alt={skill.name} class="w-5 h-5 object-contain" loading="lazy" />
                  ) : (
                    <Fragment set:html={skill.icon} />
                  )}
                </div>
                <span class="font-medium text-sm leading-tight">{skill.name}</span>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>
  </div>
</section>